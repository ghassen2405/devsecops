<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>

<AnchorPane prefHeight="667.0" prefWidth="1268.0" style="-fx-background-color: linear-gradient(to bottom, #2E2E2E, #000000);" stylesheets="@styles.css" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="Controllers.afficheproduitcontroller">

    <!-- Barre de navigation -->
    <HBox prefHeight="80.0" spacing="100" style="-fx-background-color: #1A1A1A; -fx-padding: 15; -fx-alignment: center-left;" AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0">
        <ImageView fx:id="logo" fitHeight="56.0" fitWidth="63.0" pickOnBounds="true" preserveRatio="true">
            <image>
                <Image url="@images/njm.png" />
            </image>
        </ImageView>
        <Button fx:id="homeBtn" onAction="#goToHome" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Accueil" />
        <Button fx:id="productsBtn" onAction="#goToProducts" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Produits" />
        <Button fx:id="claimsBtn" onAction="#goToReclamations" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="RÃ©clamations" />
        <Button fx:id="eventsBtn" onAction="#goToEvents" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;" text="Ã‰vÃ©nements" />
        <TextField fx:id="searchField" promptText="Rechercher..." style="-fx-background-radius: 10; -fx-padding: 5; -fx-pref-width: 200px;" />
        <Button onAction="#searchAction" style="-fx-background-color: black; -fx-text-fill: #FDD700; -fx-background-radius: 10;" text="ðŸ”" />
    </HBox>

    <!-- Menu latÃ©ral -->
    <VBox fx:id="menuLateral" prefHeight="200" prefWidth="180" spacing="15" style="-fx-background-color: #1E1E1E; -fx-padding: 15; -fx-background-radius: 10;" AnchorPane.leftAnchor="20.0" AnchorPane.topAnchor="100.0">
        <Label style="-fx-text-fill: white; -fx-font-size: 18px; -fx-font-weight: bold;" text="CatÃ©gories" />
        <Button fx:id="btnAlbums" onAction="#handleMenuClick" style="-fx-background-color: transparent; -fx-text-fill: #B0B0B0; -fx-font-size: 14px; -fx-font-style: italic;" text="â€¢  Albums" />
        <Button fx:id="btnVetements" onAction="#handleMenuClick" style="-fx-background-color: transparent; -fx-text-fill: #B0B0B0; -fx-font-size: 14px; -fx-font-style: italic;" text="â€¢  VÃªtements" />
        <Button fx:id="btnAccessoires" onAction="#handleMenuClick" style="-fx-background-color: transparent; -fx-text-fill: #B0B0B0; -fx-font-size: 14px; -fx-font-style: italic;" text="â€¢  Accessoires" />
        <Button fx:id="btnLightsticks" onAction="#handleMenuClick" style="-fx-background-color: transparent; -fx-text-fill: #B0B0B0; -fx-font-size: 14px; -fx-font-style: italic;" text="â€¢  Lightsticks" />
    </VBox>

    <!-- ScrollPane pour les produits -->
    <ScrollPane fx:id="scrollPane" fitToHeight="true" fitToWidth="true" prefHeight="557.0" prefWidth="1287.0" style="-fx-background-color: #181818;" AnchorPane.bottomAnchor="10.0" AnchorPane.leftAnchor="220.0" AnchorPane.rightAnchor="20.0" AnchorPane.topAnchor="100.0">
        <content>
            <VBox prefHeight="509.0" prefWidth="1285.0" spacing="20" style="-fx-background-color: #181818; -fx-padding: 10;">
                <!-- Produits -->
                <TilePane fx:id="promoTilePane" alignment="center" hgap="20" style="-fx-padding: 10; -fx-background-color: #181818;" vgap="20">
                    <!-- Produits dynamiques -->
                </TilePane>
            </VBox>
        </content>
    </ScrollPane>

    <!-- Section des ActualitÃ©s en bas -->





    <!-- IcÃ´ne IA et section IA -->
    <AnchorPane fx:id="iaFloatingPane" AnchorPane.bottomAnchor="150.0" AnchorPane.rightAnchor="30.0">
        <Pane fx:id="iaContainer">
            <Button fx:id="iaIcon" onAction="#toggleIaSection" onMouseDragged="#handleIconDrag" onMousePressed="#handleIconPress" onMouseReleased="#handleIconRelease" style="-fx-background-color: transparent; -fx-text-fill: #FDD700; -fx-font-size: 24px;" text="ðŸ¤–">
                <effect>
                    <DropShadow color="#FDD700" radius="10" />
                </effect>
            </Button>

            <VBox id="iaSection" fx:id="iaSection" managed="false" maxHeight="300.0" maxWidth="300.0" minHeight="200.0" minWidth="300.0" prefHeight="250.0" prefWidth="300.0" spacing="10" style="-fx-padding: 10px; -fx-background-color: rgba(30, 30, 30, 0.9); -fx-background-radius: 10; -fx-border-color: #FDD700; -fx-border-radius: 10;" visible="false" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="50.0">

                <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="Posez une question :" />
                <TextField fx:id="questionField" minWidth="280.0" prefWidth="280.0" promptText="Entrez votre question..." />
                <Button minWidth="280.0" onAction="#handleQuestion" prefWidth="280.0" text="Poser la question" />
                <Label style="-fx-text-fill: white; -fx-font-weight: bold;" text="RÃ©ponse :" />
                <TextArea fx:id="iaResponseArea" editable="false" minWidth="280.0" prefHeight="100.0" prefWidth="280.0" wrapText="true" />
            </VBox>
        </Pane>
    </AnchorPane>

    <!-- Boutons ajout et update -->
    <HBox spacing="10" AnchorPane.bottomAnchor="20.0" AnchorPane.leftAnchor="20.0">
        <Button fx:id="ajout" onAction="#ajout" style="-fx-background-color: #fdd700; -fx-text-fill: black; -fx-font-weight: bold; -fx-background-radius: 10;" text="Ajout" />
        <Button fx:id="update" onAction="#update" style="-fx-background-color: #fdd700; -fx-text-fill: black; -fx-font-weight: bold; -fx-background-radius: 10;" text="Update" />
    </HBox>
    <Button fx:id="showNewsBtn" style="-fx-background-color: transparent; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold;"  />
    <VBox fx:id="newsSection" layoutX="15.0" layoutY="375.0" maxHeight="233.0" maxWidth="300.0" prefHeight="233.0" prefWidth="191.0" spacing="10" style="-fx-background-color: #1E1E1E; -fx-padding: 10; -fx-background-radius: 10;">
        <Label style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="ActualitÃ©s" />
        <ListView fx:id="newsListView" maxHeight="172.0" prefHeight="172.0" prefWidth="169.0" style="-fx-background-color: #181818; -fx-text-fill: white; -fx-border-color: #FDD700; -fx-border-radius: 10;">
            <placeholder>
                <Label text="Aucune actualitÃ© disponible." />
            </placeholder>
        </ListView>
    </VBox>

</AnchorPane>
